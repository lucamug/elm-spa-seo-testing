<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>No JS, No Ajax. V.2</title>
    <meta name="description" content="No JS, No Ajax. V.2">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: sans-serif;
        }
    </style>
</head>

<body>
    <noscript>
        For full functionality of this site it is necessary to enable JavaScript.
    </noscript>
    <script src="main.js"></script>
    <script type="text/javascript">
        (function(_window, _document) {
            var app = Elm.Main.init();
            var _body = _document.body;
            var onUrlChange = function(page) {
                _window.requestAnimationFrame(function() {
                    smoothTransition();
                    app.ports.titleChanged.send(page);
                    _document.title = page;
                    _document.querySelector('meta[name="description"]').setAttribute("content", "Meta Description of the page " + page +
                        ". This page is a test to check how Single Page Applications work well with Search Engines (SEO). Full article at...");
                });
            };
            var smoothTransition = function() {
                _body.classList.add("subAppHide");
                _body.classList.remove("subAppShow");
                setTimeout(function() {
                    _body.classList.add("subAppShow");
                    _body.classList.remove("subAppHide");
                }, 100);
            };
            app.ports.titleChanged.send(_document.title);
            app.ports.urlChange.subscribe(onUrlChange);
        })(window, window.document);
        // Google Analytics START
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o);
            m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            if (m && m.parentNode) {
                m.parentNode.insertBefore(a, m);
            }
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-104755771-1', 'auto');
        ga('send', 'pageview');
        // Google Analytics END
    </script>
</body>

</html>